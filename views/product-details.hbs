<!--banner-->
<div class="banner-top">
    <div class="container">
        <h2 class="animated wow fadeInLeft p-name" data-wow-delay=".5s"></h2>
        <h3 class="animated wow fadeInRight" data-wow-delay=".5s"><a href="/">Home</a><label>/</label><span
                class="p-name"></span>
        </h3>
        <div class="clearfix"> </div>
    </div>
</div>
<!--content-->
<div class="product">
    <div class="container">
        <div class="col-md-9 animated wow fadeInRight" data-wow-delay=".5s">
            <div class="col-md-5 grid-im">
                <div class="flexslider">
                    <ul class="slides">
                        <li data-thumb="images/si.jpg">
                            <div style="margin-bottom: 2rem;" class="thumb-image"> <img src="" data-imagezoom="true"
                                    class="img-responsive p-image">
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-md-7 single-top-in">
                <div class="span_2_of_a1 simpleCart_shelfItem">
                    <h3 class="p-name"></h3>
                    <p class="in-para p-description"></p>
                    <div class="price_single">
                        <span class="reducedfrom item_price">KES <span class="p-price"></span></span>
                        <div onclick="addThisProductToCart()" data-text="Add To Cart" class="but-hover1 item_add">Add To
                            Cart</a>
                            <div class="clearfix"></div>
                        </div>



                        <div class="clearfix"> </div>
                    </div>
                    <!-- tabs-box -->
                    <div class="sap_tabs">
                        <div id="horizontalTab" style="display: block; width: 100%; margin: 0px;">
                            <ul class="resp-tabs-list">
                                <li class="resp-tab-item " aria-controls="tab_item-0" role="tab"><span>Fish
                                        Description</span></li>

                                <div class="clearfix"></div>
                            </ul>
                            <div class="resp-tabs-container">
                                <h2 class="resp-accordion resp-tab-active" role="tab" aria-controls="tab_item-0"><span
                                        class="resp-arrow"></span>Fish Description</h2>
                                <div class="tab-1 resp-tab-content resp-tab-content-active" aria-labelledby="tab_item-0"
                                    style="display:block">
                                    <div class="facts p-description">

                                    </div>

                                </div>
                            </div>
                        </div>
                        <script src="js/easyResponsiveTabs.js" type="text/javascript"></script>
                        <script type="text/javascript">
                            $(document).ready(function () {
                                $('#horizontalTab').easyResponsiveTabs({
                                    type: 'default', //Types: default, vertical, accordion           
                                    width: 'auto', //auto or any width like 600px
                                    fit: true   // 100% fit in a container
                                });
                            });
                        </script>
                        <!---->
                    </div>

                </div>
            </div class="clearfix">
        </div>
    </div>
</div>
<!--//products-->

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const shopId = urlParams.get("shopId");
    const productId = urlParams.get("productId");

    $(document).ready(() => {
        getProductDetails();
    });

    let currentProduct = null;
    const getProductDetails = async () => {
        try {
            const res = await axios.get(`shops/${shopId}/products/${productId}`);
            const product = res.data;
            currentProduct = product;

            $('.p-name').text(product.name);
            $('.p-image').attr('src', product.imageUrl);
            $('.p-price').text(product.price);
            $('.p-description').text(product.description);
        } catch (e) {
            console.error(e);
            alert("Could not get data.");
        }
    };

    const addThisProductToCart = () => {
        if (currentProduct)
            addToCart(currentProduct.shopId, currentProduct.id, currentProduct.price, currentProduct.name, currentProduct.imageUrl);
    }

</script>